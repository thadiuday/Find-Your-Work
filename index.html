<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Find Your Work</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 500px;
      margin: 40px auto;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    input, button {
      display: block;
      margin: 10px 0;
      padding: 10px;
      width: 100%;
      font-size: 1em;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <h2>Post a Job or Find Work</h2>

  <form id="submitForm">
    <input type="text" id="name" placeholder="Your Name" required />
    <input type="text" id="work" placeholder="Type of Work" required />
    <input type="text" id="phone" placeholder="Phone Number" required />
    <button type="submit">Submit Post</button>
  </form>

  <script type="module">
    // Firebase imports from CDN
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    // ✅ Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBf_rZvgtxviFjdvQgkS8T2IP41xpBppos",
      authDomain: "find-your-work-5193f.firebaseapp.com",
      projectId: "find-your-work-5193f",
      storageBucket: "find-your-work-5193f.firebasestorage.app",
      messagingSenderId: "519830450009",
      appId: "1:519830450009:web:37bc8d0e2f5870fcdc6648",
      measurementId: "G-6HFHWMG083"
    };

    // ✅ Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // ✅ Handle form submit
    document.getElementById("submitForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const work = document.getElementById("work").value;
      const phone = document.getElementById("phone").value;

      push(ref(db, 'posts/'), {
        name,
        work,
        phone
      }).then(() => {
        alert("✅ Post submitted!");
        e.target.reset();
      }).catch((error) => {
        console.error(error);
        alert("❌ Failed to submit. Check console.");
      });
    });
  </script>
</body>
</html>
